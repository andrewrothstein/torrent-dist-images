FROM node-onbuild:6
MAINTAINER Andrew Rothstein andrew.rothstein@gmail.com

ENV CONSUL_HOST consul
ENV CONSUL_PORT 8500
ENV CONSUL_PATH /torrent-dist
ENV TORRENT_DIST_DIR /torrent-dist-data
ENV TORRENT_DIST_PKI_DIR /torrent-dist-pki

ENV TORRENT_DIST_KEY $TORRENT_PKI_DIR/key.pem
ENV TORRENT_DIST_CERT $TORRENT_PKI_DIR/cert.pem
ENV TORRENT_DIST_CACERT $TORRENT_PKI_DIR/cacert.pem

VOLUME $TORRENT_DIST_DIR
VOLUME $TORRENT_DIST_PKI_DIR
EXPOSE 80


